{"version":3,"sources":["webpack:///./src/views/Buscar.vue?d452","webpack:///src/views/Buscar.vue","webpack:///./src/views/Buscar.vue?fa40","webpack:///./src/views/Buscar.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","state","on","$event","type","indexOf","_k","keyCode","key","buscar","model","value","callback","$$v","busqueda","expression","cargando","_v","notFound","staticClass","_l","item","id","eliminar","editar","staticRenderFns","name","components","Viaje","data","viajes","computed","length","methods","$router","push","component"],"mappings":"+GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,gBAAgB,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,YAAc,kBAAkB,MAAQN,EAAIO,OAAOC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcd,EAAIe,OAAON,KAAUO,MAAM,CAACC,MAAOjB,EAAY,SAAEkB,SAAS,SAAUC,GAAMnB,EAAIoB,SAASD,GAAKE,WAAW,cAAcjB,EAAG,uBAAuB,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,QAAQE,GAAG,CAAC,MAAQR,EAAIe,SAAS,CAACX,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,aAAa,IAAI,IAAI,GAAIN,EAAIsB,UAAYtB,EAAIO,MAAOH,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,GAAG,KAAO,UAAUN,EAAIuB,GAAG,iBAAiB,MAAOvB,EAAIsB,UAAYtB,EAAIwB,SAAUpB,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,GAAG,QAAU,YAAY,CAACN,EAAIuB,GAAG,+BAA+B,GAAGnB,EAAG,MAAM,CAACqB,YAAY,WAAWzB,EAAI0B,GAAI1B,EAAU,QAAE,SAAS2B,GAAM,OAAOvB,EAAG,QAAQ,CAACU,IAAIa,EAAKC,GAAGtB,MAAM,CAAC,MAAQqB,GAAMnB,GAAG,CAAC,iBAAiB,SAASC,GAAQ,OAAOT,EAAI6B,SAASF,EAAKC,KAAK,eAAe,SAASnB,GAAQ,OAAOT,EAAI8B,OAAOH,EAAKC,WAAU,IAAI,IAC/lCG,EAAkB,G,qGCyCtB,GACEC,KAAM,SACNC,WAAY,CACVC,MAAJ,QAEEC,KALF,WAMI,MAAO,CACLf,SAAU,GACVgB,OAAQ,GACRd,UAAU,EACVE,UAAU,IAGda,SAAU,CACR9B,MADJ,WAEM,OAAON,KAAKmB,SAASkB,OAAS,IAGlCC,QAAS,CACP,OADJ,iKAEA,WAFA,wBAGA,iBAHA,kBAKA,QACA,mCANA,OAKA,EALA,OAQA,mBACA,uBACA,iBACA,uBACA,iBACA,qDAGA,iBAhBA,qDAkBA,kBAlBA,kHAsBI,SAtBJ,oEAsBA,GAtBA,8FAuBA,wDAEA,qBACA,KACA,iDACA,sBACA,WACA,iBACA,wBA/BA,yGAkCI,cAlCJ,oEAkCA,KAlCA,iGAmCA,gCAnCA,OAoCA,wBACA,+CArCA,2GAuCIT,OAvCJ,SAuCA,GACM7B,KAAKuC,QAAQC,KAAK,CAAxB,iCCpGgV,I,YCO5UC,EAAY,eACd,EACA3C,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAW,E","file":"js/Buscar.91e12d30.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('b-input-group',[_c('b-form-input',{attrs:{\"placeholder\":\"Buscar un viaje\",\"state\":_vm.state},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.buscar($event)}},model:{value:(_vm.busqueda),callback:function ($$v) {_vm.busqueda=$$v},expression:\"busqueda\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":_vm.buscar}},[_c('unicon',{attrs:{\"name\":\"search\"}})],1)],1)],1),(_vm.cargando && _vm.state)?_c('div',[_c('h2',[_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}),_vm._v(\"Cargando... \")],1)]):(!_vm.cargando && _vm.notFound)?_c('div',[_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_vm._v(\"No se encontraron viajes\")])],1):_c('div',{staticClass:\"t-cards\"},_vm._l((_vm.viajes),function(item){return _c('Viaje',{key:item.id,attrs:{\"viaje\":item},on:{\"eliminar-viaje\":function($event){return _vm.eliminar(item.id)},\"editar-viaje\":function($event){return _vm.editar(item.id)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main>\n    <b-input-group>\n      <b-form-input\n        placeholder=\"Buscar un viaje\"\n        v-model=\"busqueda\"\n        :state=\"state\"\n        @keyup.enter=\"buscar\"\n      ></b-form-input>\n      <b-input-group-append>\n        <b-button variant=\"info\" @click=\"buscar\">\n          <unicon name=\"search\"></unicon>\n        </b-button>\n      </b-input-group-append>\n    </b-input-group>\n\n    <div v-if=\"cargando && state\">\n      <h2>\n        <b-spinner small type=\"grow\"></b-spinner>Cargando...\n      </h2>\n    </div>\n    <div v-else-if=\"!cargando && notFound\">\n      <b-alert show variant=\"warning\">No se encontraron viajes</b-alert>\n    </div>\n    <div v-else class=\"t-cards\">\n      <Viaje\n        v-for=\"item in viajes\"\n        :key=\"item.id\"\n        :viaje=\"item\"\n        v-on:eliminar-viaje=\"eliminar(item.id)\"\n        v-on:editar-viaje=\"editar(item.id)\"\n      />\n    </div>\n  </main>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { API_BASE_URL } from \"@/config\";\nimport Viaje from \"@/components/Viajes.vue\";\nimport Alertas from \"../sweetalertMethods\";\n\nexport default {\n  name: \"Buscar\",\n  components: {\n    Viaje\n  },\n  data() {\n    return {\n      busqueda: \"\",\n      viajes: \"\",\n      cargando: false,\n      notFound: false\n    };\n  },\n  computed: {\n    state() {\n      return this.busqueda.length > 0 ? true : false;\n    }\n  },\n  methods: {\n    async buscar() {\n      if (this.state) {\n        this.cargando = true;\n        try {\n          const response = await axios.get(\n            API_BASE_URL + \"/viajes/2/\" + this.busqueda\n          );\n          this.viajes = response.data;\n          if (this.viajes.length === 0) {\n            this.notFound = true;\n          } else if (this.viajes.length > 0) {\n            this.notFound = false;\n            Alertas.smallAlert(this, \"Viajes cargados\", \"success\");\n          }\n\n          this.cargando = false;\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    },\n    async eliminar(id) {\n      let index = this.viajes.findIndex(viaje => viaje.id === id);\n\n      Alertas.confirmAction(\n        this,\n        \"¿Está seguro de que desea eliminar este viaje?\" +\n          this.viajes[index].nombre,\n        \"Aceptar\"\n      ).then(() => {\n        this.eliminarViaje(index, id);\n      });\n    },\n    async eliminarViaje(index, id) {\n      await axios.delete(API_BASE_URL + \"/viajes/\" + id);\n      this.viajes.splice(index, 1);\n      Alertas.smallAlert(this, \"Viaje eliminado\", null);\n    },\n    editar(id) {\n      this.$router.push({ name: \"Editar\", params: { id } });\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Buscar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Buscar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Buscar.vue?vue&type=template&id=69cf2c7c&\"\nimport script from \"./Buscar.vue?vue&type=script&lang=js&\"\nexport * from \"./Buscar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}